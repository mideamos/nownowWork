<div class="">
    <h1 class="text-2xl font-bold text-gray-800 mb-6">Add/ Transfer Fund</h1>
  <!-- Add Beneficiary Form -->
  <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-8 mb-8">
    <form [formGroup]="beneficiaryForm" (ngSubmit)="onSubmit()" class="space-y-6">
        <h2 class="text-lg font-semibold text-gray-800 mb-4">Schedule Internal Wallet Transfer</h2>
      <!-- First Row -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Transfer Name -->
        <div>
          <label for="transferName" class="block text-sm font-medium text-gray-700 mb-2">
            Transfer Name
          </label>
          <input
            type="text"
            id="transferName"
            formControlName="transferName"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
            [class.border-red-500]="isFieldInvalid('transferName')"
            placeholder="Enter transfer name"
          >
          @if (isFieldInvalid('transferName')) {
              <div class="mt-1 text-sm text-red-600">
                {{ getFieldError('transferName') }}
              </div>
          }
        </div>

        <!-- Expiry Date -->
        <div>
          <label for="expiryDate" class="block text-sm font-medium text-gray-700 mb-2">
            Transfer Rule Expiry Date
          </label>
          <input
            type="text"
            id="expiryDate"
            formControlName="expiryDate"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
            [class.border-red-500]="isFieldInvalid('expiryDate')"
            placeholder="Enter expiry date"
          >
          @if (isFieldInvalid('expiryDate')) {
              <div class="mt-1 text-sm text-red-600">
                {{ getFieldError('expiryDate') }}
              </div>
          }
        </div>
      </div>

      <!-- Second Row -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Min. Wallet Balance -->
        <div>
          <label for="minWalletBalance" class="block text-sm font-medium text-gray-700 mb-2">
            Minimum Wallet Balance
          </label>
          <input
            type="text"
            id="minWalletBalance"
            formControlName="minWalletBalance"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
            [class.border-red-500]="isFieldInvalid('minWalletBalance')"
            placeholder="Enter minimum balance"
          >
          @if (isFieldInvalid('minWalletBalance')) {
              <div class="mt-1 text-sm text-red-600">
                {{ getFieldError('minWalletBalance') }}
              </div>
          }
        </div>

        <!-- Transfer Frequency -->
        <div>
          <label for="transferFrequency" class="block text-sm font-medium text-gray-700 mb-2">
            Transfer Frequency
          </label>
          <input
            type="text"
            id="transferFrequency"
            formControlName="transferFrequency"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
            [class.border-red-500]="isFieldInvalid('transferFrequency')"
            placeholder="Enter transfer frequency"
          >
          @if (isFieldInvalid('transferFrequency')) {
              <div class="mt-1 text-sm text-red-600">
                {{ getFieldError('transferFrequency') }}
              </div>
          }
        </div>
      </div>

      <!-- Third Row -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Frequency Variable -->
        <div>
          <label for="frequencyVariable" class="block text-sm font-medium text-gray-700 mb-2">
            Transfer Frequency Variable
          </label>
          <input
            type="text"
            id="frequencyVariable"
            formControlName="frequencyVariable"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
            [class.border-red-500]="isFieldInvalid('frequencyVariable')"
            placeholder="Enter frequency variable"
          >
          @if (isFieldInvalid('frequencyVariable')) {
              <div class="mt-1 text-sm text-red-600">
                {{ getFieldError('frequencyVariable') }}
              </div>
          }
        </div>

        <!-- Description -->
        <div>
          <label for="description" class="block text-sm font-medium text-gray-700 mb-2">
            Description
          </label>
          <input
            type="text"
            id="description"
            formControlName="description"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
            placeholder="Enter description"
          >
        </div>
      </div>

      <!-- Fourth Row -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Transfer From -->
        <div>
          <label for="transferFrom" class="block text-sm font-medium text-gray-700 mb-2">
            Transfer From
          </label>
          <input
            type="text"
            id="transferFrom"
            formControlName="transferFrom"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
            [class.border-red-500]="isFieldInvalid('transferFrom')"
            placeholder="Enter source wallet"
          >
          @if (isFieldInvalid('transferFrom')) {
              <div class="mt-1 text-sm text-red-600">
                {{ getFieldError('transferFrom') }}
              </div>
          }
        </div>

        <!-- Transfer To -->
        <div>
          <label for="transferTo" class="block text-sm font-medium text-gray-700 mb-2">
            Transfer To
          </label>
          <input
            type="text"
            id="transferTo"
            formControlName="transferTo"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
            [class.border-red-500]="isFieldInvalid('transferTo')"
            placeholder="Enter destination wallet"
          >
          @if (isFieldInvalid('transferTo')) {
              <div class="mt-1 text-sm text-red-600">
                {{ getFieldError('transferTo') }}
              </div>
          }
        </div>
      </div>

      <!-- Submit Button -->
      <div class="pt-4">
        <button
          type="submit"
          [disabled]="beneficiaryForm.invalid"
          class="bg-slate-600 hover:bg-slate-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200"
        >
          Add Beneficiary
        </button>
      </div>
    </form>
  </div>

  <!-- List of Beneficiary -->
  <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
    <div class="p-6 border-b border-gray-200">
      <h2 class="text-xl font-semibold text-gray-800">List of Beneficiary</h2>
    </div>

    <!-- Table Container -->
    <div class="overflow-x-auto">
      <table class="w-full">
        <!-- Table Header -->
        <thead class="bg-gray-50 border-b border-gray-200">
          <tr>
            <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">
              Transfer Name
            </th>
            <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">
              Expiry Date
            </th>
            <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">
              Transfer Frequency
            </th>
            <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">
              Frequency Variable
            </th>
            <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">
              From Wallet
            </th>
            <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">
              To Wallet
            </th>
            <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">
              Description
            </th>
            <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">
              Min. Wallet Balance
            </th>
            <th class="px-6 py-4 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">
              Status
            </th>
          </tr>
        </thead>

        <!-- Table Body -->
        <tbody class="bg-white divide-y divide-gray-200">
            @for (beneficiary of beneficiaries; track $index) {
                <tr 
                  class="hover:bg-gray-50 transition-colors"
                  [class.bg-gray-25]="$index % 2 === 1"
                >
                  <td class="px-6 py-4 text-sm text-gray-900">
                    {{ beneficiary.transferName }}
                  </td>
                  <td class="px-6 py-4 text-sm text-gray-900">
                    {{ beneficiary.expiryDate }}
                  </td>
                  <td class="px-6 py-4 text-sm text-gray-900">
                    {{ beneficiary.transferFrequency }}
                  </td>
                  <td class="px-6 py-4 text-sm text-gray-900">
                    {{ beneficiary.frequencyVariable }}
                  </td>
                  <td class="px-6 py-4 text-sm text-gray-900">
                    {{ beneficiary.transferFrom }}
                  </td>
                  <td class="px-6 py-4 text-sm text-gray-900">
                    {{ beneficiary.transferTo }}
                  </td>
                  <td class="px-6 py-4 text-sm text-gray-900">
                    {{ beneficiary.description }}
                  </td>
                  <td class="px-6 py-4 text-sm text-gray-900">
                    {{ beneficiary.minWalletBalance }}
                  </td>
                  <td class="px-6 py-4">
                    <span [class]="getStatusClass(beneficiary.status)">
                      {{ beneficiary.status }}
                    </span>
                  </td>
                </tr>
            }
        </tbody>
      </table>
    </div>

    <!-- Empty State -->
     @if (beneficiaries.length === 0) {
         <div class="text-center py-12">
           <div class="text-gray-500 text-lg mb-2">No beneficiaries found</div>
           <div class="text-gray-400 text-sm">Add your first beneficiary using the form above</div>
         </div>
     }
  </div>
</div>